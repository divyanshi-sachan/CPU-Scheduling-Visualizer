(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[523],{275:function(e,t,i){Promise.resolve().then(i.bind(i,5807))},5807:function(e,t,i){"use strict";i.d(t,{default:function(){return N}});var r=i(7437),a=i(2265),s=i(7648),n=i(9376),l=i(909),o=i(5095),c=i(1242),d=i(6628),m=i(7845);let h=["rgba(255,255,255,0.95)","rgba(255,255,255,0.75)","rgba(255,255,255,0.55)","rgba(255,255,255,0.4)","rgba(255,255,255,0.3)","rgba(255,255,255,0.25)","rgba(255,255,255,0.2)","rgba(255,255,255,0.15)"];function x(e){let{data:t,maxTime:i,height:a=280}=e,s=i<=0?0:100/i,n=[...new Set(t.map(e=>e.pid))].filter(e=>e>0).sort((e,t)=>e-t),o=Math.max(32,(a-50)/Math.max(1,n.length)),c=[...t].filter(e=>e.pid>0).sort((e,t)=>e.start-t.start),d=[];for(let e=1;e<c.length;e++)c[e].pid!==c[e-1].pid&&d.push(c[e].start);return(0,r.jsx)("div",{className:"w-full overflow-x-auto",children:(0,r.jsxs)("div",{className:"min-w-[400px]",children:[(0,r.jsxs)("div",{className:"flex border-b border-white/10 pb-2 mb-2",children:[(0,r.jsx)("div",{className:"w-16 flex-shrink-0 text-white/40 font-mono text-xs",children:"PID"}),(0,r.jsx)("div",{className:"flex-1 relative",style:{height:24},children:Array.from({length:Math.ceil(i)+1}).map((e,t)=>(0,r.jsx)("span",{className:"absolute text-white/35 font-mono text-xs",style:{left:"".concat(t*s,"%")},children:t},t))})]}),0===n.length?(0,r.jsx)("div",{className:"text-white/40 text-sm font-mono py-4",children:"No process data"}):n.map((e,a)=>{let n=t.filter(t=>t.pid===e),c=h[e%h.length];return(0,r.jsxs)(l.E.div,{className:"flex items-center mb-1",style:{height:o},initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.05*a},children:[(0,r.jsxs)("div",{className:"w-16 flex-shrink-0 font-mono text-sm text-white/70",children:["P",e]}),(0,r.jsxs)("div",{className:"flex-1 relative h-full rounded overflow-hidden bg-white/5",children:[n.map((t,i)=>(0,r.jsx)(l.E.div,{className:"absolute top-1 bottom-1 rounded flex items-center justify-center text-xs font-mono font-medium text-black origin-left z-[1]",style:{left:"".concat(t.start*s,"%"),width:"".concat(Math.max((t.end-t.start)*s,2),"%"),backgroundColor:c,minWidth:24},initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.4,delay:.1+.05*a+.03*i},children:t.end-t.start},"".concat(e,"-").concat(i))),d.length>0&&i>0&&(0,r.jsx)("div",{className:"absolute inset-0 pointer-events-none z-[2] flex",children:d.map(e=>(0,r.jsx)("div",{className:"absolute top-0 bottom-0 w-0.5 bg-amber-400/90",style:{left:"".concat(e/i*100,"%")},title:"Context switch at t=".concat(e)},e))})]})]},e)})]})})}function p(e){let{id:t,checked:i,onChange:a,label:s,disabled:n=!1,className:o=""}=e,c=null!=t?t:"cb-".concat(Math.random().toString(36).slice(2,9));return(0,r.jsxs)("label",{htmlFor:c,className:"flex items-center gap-3 cursor-pointer select-none group ".concat(n?"cursor-not-allowed opacity-60":""," ").concat(o),children:[(0,r.jsx)("input",{id:c,type:"checkbox",checked:i,onChange:e=>a(e.target.checked),disabled:n,className:"sr-only peer"}),(0,r.jsx)("span",{role:"checkbox","aria-checked":i,className:"\n          peer-focus-visible:ring-2 peer-focus-visible:ring-white/30 peer-focus-visible:ring-offset-2 peer-focus-visible:ring-offset-black peer-focus-visible:rounded-md\n          relative flex flex-shrink-0 items-center justify-center w-5 h-5 rounded-md\n          border-2 transition-all duration-200 ease-out\n          ".concat(i?"border-white bg-white text-black":"border-white/30 bg-neutral-800/80 text-transparent group-hover:border-white/50 group-hover:bg-white/5","\n          ").concat("","\n        "),children:i&&(0,r.jsx)(l.E.svg,{viewBox:"0 0 12 12",className:"w-3 h-3 absolute",initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:400,damping:25},children:(0,r.jsx)("path",{fill:"none",stroke:"currentColor",strokeWidth:2.5,strokeLinecap:"round",strokeLinejoin:"round",d:"M2 6l3 3 5-6"})})}),(0,r.jsx)("span",{className:"font-mono text-sm text-white/90 group-hover:text-white transition-colors",children:s})]})}let u=[{name:"Random (5)",description:"5 processes, random arrival & burst",getProcesses:()=>Array.from({length:5},(e,t)=>1+t).map((e,t)=>({pid:e,arrivalTime:Math.floor(6*Math.random()),burstTime:Math.max(1,Math.floor(8*Math.random())+1),priority:Math.floor(3*Math.random())+1}))},{name:"Convoy effect",description:"One long job first, then short",getProcesses:()=>[{pid:1,arrivalTime:0,burstTime:8,priority:1},{pid:2,arrivalTime:1,burstTime:1,priority:1},{pid:3,arrivalTime:2,burstTime:1,priority:1},{pid:4,arrivalTime:3,burstTime:1,priority:1}]},{name:"RR heavy",description:"Similar bursts, many context switches",getProcesses:()=>[{pid:1,arrivalTime:0,burstTime:4,priority:1},{pid:2,arrivalTime:0,burstTime:4,priority:1},{pid:3,arrivalTime:0,burstTime:4,priority:1},{pid:4,arrivalTime:0,burstTime:4,priority:1}]},{name:"SJF friendly",description:"Short jobs arrive first",getProcesses:()=>[{pid:1,arrivalTime:0,burstTime:1,priority:1},{pid:2,arrivalTime:1,burstTime:2,priority:1},{pid:3,arrivalTime:2,burstTime:4,priority:1},{pid:4,arrivalTime:3,burstTime:8,priority:1}]},{name:"Priority demo",description:"Different priorities",getProcesses:()=>[{pid:1,arrivalTime:0,burstTime:4,priority:2},{pid:2,arrivalTime:0,burstTime:2,priority:1},{pid:3,arrivalTime:0,burstTime:3,priority:3},{pid:4,arrivalTime:1,burstTime:1,priority:1}]}];async function b(e,t){let{toPng:r}=await i.e(732).then(i.bind(i,3732)),a=await r(e,{backgroundColor:"#0a0a0a",pixelRatio:2,cacheBust:!0}),s=document.createElement("a");s.href=a,s.download=null!=t?t:"gantt-chart-".concat(Date.now(),".png"),s.click()}let g=["fcfs","sjf","round_robin","priority"],f=(0,d.Z)({palette:{mode:"dark"}}),w=[{value:"fcfs",label:"First Come First Serve",shortLabel:"FCFS",description:"Processes executed in arrival order"},{value:"sjf",label:"Shortest Job First",shortLabel:"SJF",description:"Shortest burst time executed first"},{value:"round_robin",label:"Round Robin",shortLabel:"RR",description:"Time-sliced execution with quantum"},{value:"priority",label:"Priority Scheduling",shortLabel:"PRI",description:"Higher priority processes first"}],v={fcfs:"FCFS",sjf:"SJF",round_robin:"Round Robin",priority:"Priority"},j="w-full bg-neutral-800 border border-neutral-700 rounded-lg px-3 py-2 text-white font-mono text-sm placeholder-neutral-500 focus:ring-2 focus:ring-white/20 focus:border-neutral-500 outline-none transition-all duration-200",y=[{pid:1,arrivalTime:0,burstTime:4,priority:1},{pid:2,arrivalTime:1,burstTime:3,priority:2},{pid:3,arrivalTime:2,burstTime:1,priority:1}];function N(){var e,t,i,d,h,N,k;let T=(0,n.useSearchParams)(),C=(0,n.usePathname)(),S=(0,n.useRouter)(),[P,M]=(0,a.useState)(y),[E,A]=(0,a.useState)(""),[L,R]=(0,a.useState)(2),[_,F]=(0,a.useState)(null),[B,W]=(0,a.useState)(!1),[I,z]=(0,a.useState)(null),[O,U]=(0,a.useState)(!1),[D,H]=(0,a.useState)(!1),[J,Q]=(0,a.useState)(""),[V,G]=(0,a.useState)(null),[q,X]=(0,a.useState)(-1),[Z,K]=(0,a.useState)(!1),[Y,$]=(0,a.useState)(!1),ee=(0,a.useRef)(null),et=(0,a.useRef)(null),ei=(0,a.useRef)(null),er=(0,a.useRef)(null),ea=(0,a.useRef)(!1);(0,a.useEffect)(()=>{if(ea.current||!T)return;let e=function(e){if(!e)return null;let t=e.get("algorithm");if(!t||!g.includes(t))return null;let i=e.getAll("p");if(0===i.length)return null;let r=[];for(let e=0;e<i.length;e++){let t=i[e].split(",").map(e=>parseInt(e.trim(),10));if(t.length<4)continue;let[a,s,n,l]=t;Number.isNaN(a)||Number.isNaN(s)||Number.isNaN(n)||r.push({pid:Number.isNaN(a)?e+1:a,arrivalTime:Number.isNaN(s)?0:s,burstTime:Number.isNaN(n)?1:Math.max(1,n),priority:Number.isNaN(l)?1:l})}if(0===r.length)return null;let a=e.get("q");return{algorithm:t,timeQuantum:null!=a?Math.max(1,parseInt(a,10)||2):2,processes:r}}(T);e&&(ea.current=!0,M(e.processes),A(e.algorithm),R(e.timeQuantum))},[T]),(0,a.useEffect)(()=>{if(!T)return;let e=function(e,t,i){if(!e||0===i.length)return"";let r=new URLSearchParams;return r.set("algorithm",e),"round_robin"===e&&r.set("q",String(t)),i.forEach(e=>{var t;r.append("p",[e.pid,e.arrivalTime,e.burstTime,null!==(t=e.priority)&&void 0!==t?t:1].join(","))}),r.toString()}(E,L,P),t=T.toString();if(e===t||t&&!e)return;let i=null!=C?C:"/",r=e?"".concat(i,"?").concat(e):i;S.replace(r,{scroll:!1})},[E,L,P,C,S,T]);let es=(0,a.useCallback)(()=>{let e=window.location.href;e&&navigator.clipboard.writeText(e).then(()=>{$(!0),setTimeout(()=>$(!1),2e3)})},[]);(0,a.useEffect)(()=>{let e=e=>{et.current&&!et.current.contains(e.target)&&U(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let en=w.find(e=>e.value===E),el=(0,a.useCallback)(()=>{let e=Math.max(0,...P.map(e=>e.pid))+1;M(t=>[...t,{pid:e,arrivalTime:0,burstTime:1,priority:1}])},[P]),eo=(0,a.useCallback)(e=>{P.length<=1||M(t=>t.filter(t=>t.pid!==e))},[P.length]),ec=(0,a.useCallback)((e,t,i)=>{M(r=>r.map(r=>r.pid===e?{...r,[t]:i}:r))},[]),ed=(0,a.useCallback)(async()=>{if(E){z(null),W(!0);try{let e=await fetch("/api/simulate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({algorithm:E,timeQuantum:"round_robin"===E?L:void 0,processes:P})});if(!e.ok){let t=await e.json().catch(()=>({}));throw Error(t.error||"HTTP ".concat(e.status))}let t=await e.json();F(t)}catch(e){z(e instanceof Error?e.message:"Simulation failed")}finally{W(!1)}}},[E,L,P]);(0,a.useEffect)(()=>{if(!E){F(null);return}return ee.current&&clearTimeout(ee.current),ee.current=setTimeout(()=>{ed()},300),()=>{ee.current&&clearTimeout(ee.current)}},[ed,E]);let em=(0,a.useCallback)(async()=>{if(J&&D){z(null);try{let e=await fetch("/api/simulate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({algorithm:J,timeQuantum:"round_robin"===J?L:void 0,processes:P})});if(!e.ok)throw Error("Simulation B failed");let t=await e.json();G(t)}catch(e){G(null)}}},[J,D,L,P]);(0,a.useEffect)(()=>{if(!D||!J){G(null);return}let e=setTimeout(em,300);return()=>clearTimeout(e)},[D,J,em]),(0,a.useEffect)(()=>{_&&X(-1)},[null==_?void 0:null===(e=_.ganttChart)||void 0===e?void 0:e.length]),(0,a.useEffect)(()=>{var e;if(!Z||!(null==_?void 0:null===(e=_.ganttChart)||void 0===e?void 0:e.length))return;let t=_.ganttChart.length;return er.current=setInterval(()=>{X(e=>e>=t-1?(er.current&&clearInterval(er.current),K(!1),t-1):e+1)},800),()=>{er.current&&clearInterval(er.current)}},[Z,null==_?void 0:null===(t=_.ganttChart)||void 0===t?void 0:t.length]);let eh=(0,a.useMemo)(()=>_&&0!==_.ganttChart.length?Math.max(..._.ganttChart.map(e=>e.end),1):1,[_]),ex=(0,a.useMemo)(()=>{var e;return(null==_?void 0:null===(e=_.ganttChart)||void 0===e?void 0:e.length)&&!(q<0)?_.ganttChart.slice(0,q+1):[]},[null==_?void 0:_.ganttChart,q]),ep=q>=0&&ex.length>0?ex:null!==(h=null==_?void 0:_.ganttChart)&&void 0!==h?h:[],eu=(0,a.useMemo)(()=>0===ep.length?1:Math.max(...ep.map(e=>e.end),1),[ep]),eb=(0,a.useMemo)(()=>{var e;return(null==_?void 0:null===(e=_.ganttChart)||void 0===e?void 0:e.length)&&!(q<0)&&!(q>=_.ganttChart.length)?_.ganttChart[q]:null},[null==_?void 0:_.ganttChart,q]),eg=(0,a.useMemo)(()=>{if(!eb||!(null==_?void 0:_.processes))return[];let e=eb.start;return _.processes.filter(t=>t.arrivalTime<=e&&t.completionTime>e).map(e=>e.pid).sort((e,t)=>e-t)},[eb,null==_?void 0:_.processes]),ef=(0,a.useMemo)(()=>_?_.processes.map(e=>({name:"P".concat(e.pid),waiting:e.waitingTime,turnaround:e.turnaroundTime})):[],[_]),{cpuUtilizationPercent:ew,totalBusyTime:ev}=(0,a.useMemo)(()=>{var e;if(!(null==_?void 0:null===(e=_.ganttChart)||void 0===e?void 0:e.length)||eh<=0)return{cpuUtilizationPercent:0,totalBusyTime:0};let t=_.ganttChart.reduce((e,t)=>e+(t.end-t.start),0);return{totalBusyTime:t,cpuUtilizationPercent:Math.round(t/eh*100)}},[null==_?void 0:_.ganttChart,eh]),ej=_&&_.chosenAlgorithm!==_.usedAlgorithm;return(0,r.jsxs)(l.E.div,{className:"min-h-screen bg-black text-white",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,r.jsxs)("header",{className:"fixed top-0 left-0 right-0 z-50 flex items-center justify-between px-6 sm:px-8 py-4 bg-black/80 backdrop-blur-md border-b border-white/10",children:[(0,r.jsxs)(s.default,{href:"/",className:"flex items-center gap-3",children:[(0,r.jsx)("img",{src:"/favicon.svg",alt:"CPU Scheduler",className:"w-8 h-8"}),(0,r.jsx)("span",{className:"font-display font-semibold text-white text-lg hidden sm:block",children:"CPU Scheduler"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("button",{type:"button",onClick:es,className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-white/20 text-white/80 font-mono text-xs hover:bg-white/10 hover:text-white transition-all",title:"Copy shareable link",children:Y?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),"Share link"]})}),B&&(0,r.jsx)("span",{className:"text-white/50 text-sm font-mono",children:"Simulating..."}),(0,r.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(B?"bg-yellow-400 animate-pulse":_?"bg-green-400":"bg-white/30")})]})]}),(0,r.jsxs)("div",{className:"pt-20 flex flex-col lg:flex-row min-h-screen",children:[(0,r.jsxs)("div",{className:"lg:w-[420px] xl:w-[480px] flex-shrink-0 border-r border-white/10 p-6 lg:p-8 lg:h-[calc(100vh-80px)] lg:overflow-y-auto",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("p",{className:"font-mono text-[11px] tracking-[0.25em] text-white/40 uppercase mb-2",children:"Configuration"}),(0,r.jsx)("h1",{className:"font-display text-2xl sm:text-3xl font-bold text-white tracking-tight",children:"Process & Algorithm"})]}),(0,r.jsxs)("section",{className:"mb-8",children:[(0,r.jsx)("span",{className:"font-mono text-[11px] tracking-[0.2em] text-white/50 uppercase block mb-3",children:"Algorithm"}),(0,r.jsxs)("div",{ref:et,className:"relative",children:[(0,r.jsx)(l.E.button,{type:"button",onClick:()=>U(!O),className:"w-full bg-neutral-900 border rounded-xl px-4 py-3.5 text-left transition-all duration-200 ".concat(O?"border-white/30 ring-2 ring-white/10":"border-white/10 hover:border-white/20"),whileTap:{scale:.995},children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"flex items-center gap-3",children:en?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"w-8 h-8 rounded-lg bg-white/10 flex items-center justify-center font-mono text-xs text-white/80",children:en.shortLabel}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-white font-medium text-sm",children:en.label}),(0,r.jsx)("p",{className:"text-white/40 text-xs",children:en.description})]})]}):(0,r.jsx)("span",{className:"text-white/50 text-sm",children:"Choose an algorithm..."})}),(0,r.jsx)(l.E.svg,{className:"w-5 h-5 text-white/40",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",animate:{rotate:O?180:0},transition:{duration:.2},children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),(0,r.jsx)(o.M,{children:O&&(0,r.jsx)(l.E.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15,ease:"easeOut"},className:"absolute z-50 w-full mt-2 bg-neutral-900 border border-white/10 rounded-xl overflow-hidden shadow-2xl shadow-black/50",children:w.map((e,t)=>(0,r.jsxs)(l.E.button,{type:"button",onClick:()=>{A(e.value),U(!1)},className:"w-full px-4 py-3 text-left transition-all duration-150 flex items-center gap-3 ".concat(E===e.value?"bg-white/10":"hover:bg-white/5"," ").concat(t!==w.length-1?"border-b border-white/5":""),initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.03*t},whileHover:{x:4},children:[(0,r.jsx)("span",{className:"w-8 h-8 rounded-lg flex items-center justify-center font-mono text-xs transition-colors ".concat(E===e.value?"bg-white text-black":"bg-white/10 text-white/60"),children:e.shortLabel}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-medium text-sm ".concat(E===e.value?"text-white":"text-white/80"),children:e.label}),(0,r.jsx)("p",{className:"text-white/40 text-xs",children:e.description})]}),E===e.value&&(0,r.jsx)(l.E.svg,{initial:{scale:0},animate:{scale:1},className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]},e.value))})})]}),(0,r.jsx)(o.M,{mode:"wait",children:"round_robin"===E&&(0,r.jsxs)(l.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-4",children:[(0,r.jsx)("label",{className:"block font-mono text-[11px] text-white/50 tracking-wider uppercase mb-2",children:"Time Quantum (ms)"}),(0,r.jsx)("input",{type:"number",min:1,value:L,onChange:e=>R(Math.max(1,Number(e.target.value)||1)),className:"".concat(j," max-w-[100px]")})]})}),(0,r.jsxs)("div",{className:"mt-4 p-4 rounded-xl bg-white/[0.04] border border-white/10 flex flex-wrap items-center gap-4",children:[(0,r.jsx)(p,{checked:D,onChange:e=>{H(e),e||Q("")},label:"Compare two algorithms"}),D&&(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("select",{value:J,onChange:e=>Q(e.target.value||""),className:"w-full min-w-[180px] pl-4 pr-10 py-2.5 rounded-lg bg-neutral-800/90 border border-white/15 text-white font-mono text-sm placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-white/20 focus:border-white/30 transition-all appearance-none cursor-pointer",children:[(0,r.jsx)("option",{value:"",children:"Select second algorithm..."}),w.filter(e=>e.value!==E).map(e=>(0,r.jsxs)("option",{value:e.value,children:[e.shortLabel," – ",e.label]},e.value))]}),(0,r.jsx)("span",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-white/50","aria-hidden":!0,children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]})]})]}),(0,r.jsxs)("section",{className:"mb-6",children:[(0,r.jsx)("span",{className:"font-mono text-[11px] tracking-[0.2em] text-white/50 uppercase block mb-2",children:"Quick load"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:u.map(e=>(0,r.jsx)(l.E.button,{type:"button",onClick:()=>M(e.getProcesses()),className:"px-3 py-2 rounded-lg border border-white/15 bg-white/5 text-white/80 font-mono text-xs hover:bg-white/10 hover:border-white/25 transition-all",whileHover:{scale:1.02},whileTap:{scale:.98},title:e.description,children:e.name},e.name))})]}),(0,r.jsxs)("section",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("span",{className:"font-mono text-[11px] tracking-[0.2em] text-white/50 uppercase",children:"Processes"}),(0,r.jsxs)(l.E.button,{type:"button",onClick:el,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg border border-white/20 text-white/80 font-mono text-xs hover:bg-white/5 transition-all",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,r.jsx)("span",{className:"text-base leading-none",children:"+"}),"Add"]})]}),(0,r.jsxs)("div",{className:"rounded-xl bg-neutral-900/50 border border-white/10 overflow-hidden",children:[(0,r.jsxs)("div",{className:"grid gap-2 px-4 py-3 border-b border-white/10 font-mono text-[10px] tracking-wider text-white/40 uppercase ".concat("priority"===E?"grid-cols-[40px_1fr_1fr_1fr_40px]":"grid-cols-[40px_1fr_1fr_40px]"),children:[(0,r.jsx)("div",{children:"PID"}),(0,r.jsx)("div",{children:"Arrival"}),(0,r.jsx)("div",{children:"Burst"}),"priority"===E&&(0,r.jsx)("div",{children:"Priority"}),(0,r.jsx)("div",{})]}),(0,r.jsx)(o.M,{mode:"popLayout",children:P.map(e=>{var t;return(0,r.jsxs)(l.E.div,{layout:!0,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{type:"spring",stiffness:300,damping:30},className:"grid gap-2 px-4 py-3 items-center border-b border-white/5 last:border-0 ".concat("priority"===E?"grid-cols-[40px_1fr_1fr_1fr_40px]":"grid-cols-[40px_1fr_1fr_40px]"),children:[(0,r.jsxs)("span",{className:"font-mono text-sm text-white/70",children:["P",e.pid]}),(0,r.jsx)("input",{type:"number",min:0,value:e.arrivalTime,onChange:t=>ec(e.pid,"arrivalTime",Number(t.target.value)||0),className:j}),(0,r.jsx)("input",{type:"number",min:1,value:e.burstTime,onChange:t=>ec(e.pid,"burstTime",Math.max(1,Number(t.target.value)||1)),className:j}),"priority"===E&&(0,r.jsx)("input",{type:"number",min:0,value:null!==(t=e.priority)&&void 0!==t?t:0,onChange:t=>ec(e.pid,"priority",Number(t.target.value)||0),className:j}),(0,r.jsx)("button",{type:"button",onClick:()=>eo(e.pid),disabled:P.length<=1,className:"text-white/30 hover:text-white/70 disabled:opacity-20 disabled:cursor-not-allowed transition-colors text-lg",children:"\xd7"})]},e.pid)})})]})]}),I&&(0,r.jsx)(l.E.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},className:"p-3 rounded-lg bg-red-500/10 border border-red-500/20",children:(0,r.jsx)("p",{className:"font-mono text-sm text-red-400",children:I})})]}),(0,r.jsxs)("div",{className:"flex-1 p-6 lg:p-8 lg:h-[calc(100vh-80px)] lg:overflow-y-auto",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("p",{className:"font-mono text-[11px] tracking-[0.25em] text-white/40 uppercase mb-2",children:"Real-time Results"}),(0,r.jsx)("h2",{className:"font-display text-2xl sm:text-3xl font-bold text-white tracking-tight",children:"Simulation Output"})]}),D&&_&&V?(0,r.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-8",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,r.jsx)("span",{className:"font-mono text-[10px] text-white/40 uppercase tracking-wider",children:"Comparing"}),(0,r.jsx)("span",{className:"px-4 py-2 rounded-lg bg-white/10 border border-white/20 font-display font-semibold text-white",children:v[_.usedAlgorithm]}),(0,r.jsx)("span",{className:"text-white/40 font-mono",children:"vs"}),(0,r.jsx)("span",{className:"px-4 py-2 rounded-lg bg-white/10 border border-white/20 font-display font-semibold text-white",children:v[V.usedAlgorithm]})]}),(0,r.jsx)("div",{className:"rounded-xl border border-white/10 bg-white/[0.02] overflow-hidden",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-white/10",children:[(0,r.jsx)("th",{className:"text-left py-4 px-4 font-mono text-[10px] text-white/40 uppercase tracking-wider w-1/3",children:"Metric"}),(0,r.jsx)("th",{className:"text-center py-4 px-4 font-mono text-[10px] text-white/40 uppercase tracking-wider",children:v[_.usedAlgorithm]}),(0,r.jsx)("th",{className:"text-center py-4 px-4 font-mono text-[10px] text-white/40 uppercase tracking-wider",children:v[V.usedAlgorithm]}),(0,r.jsx)("th",{className:"text-center py-4 px-4 font-mono text-[10px] text-white/40 uppercase tracking-wider w-24",children:"Better"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-white/5",children:[{key:"avgWaitingTime",label:"Avg waiting time",lowerIsBetter:!0},{key:"avgTurnaroundTime",label:"Avg turnaround time",lowerIsBetter:!0},{key:"avgResponseTime",label:"Avg response time",lowerIsBetter:!0},{key:"contextSwitches",label:"Context switches",lowerIsBetter:!0},{key:"throughput",label:"Throughput",lowerIsBetter:!1}].map(e=>{let{key:t,label:i,lowerIsBetter:a}=e,s=_.metrics[t],n=V.metrics[t],l="number"==typeof s?s.toFixed(2):String(s),o="number"==typeof n?n.toFixed(2):String(n),c="number"==typeof s&&"number"==typeof n&&(a?s<n:s>n),d="number"==typeof s&&"number"==typeof n&&(a?n<s:n>s);return(0,r.jsxs)("tr",{className:"hover:bg-white/[0.02] transition-colors",children:[(0,r.jsx)("td",{className:"py-3 px-4 font-mono text-sm text-white/70",children:i}),(0,r.jsx)("td",{className:"py-3 px-4 text-center font-mono text-sm ".concat(c?"text-green-400 font-semibold":"text-white/90"),children:l}),(0,r.jsx)("td",{className:"py-3 px-4 text-center font-mono text-sm ".concat(d?"text-green-400 font-semibold":"text-white/90"),children:o}),(0,r.jsxs)("td",{className:"py-3 px-4 text-center",children:[c&&(0,r.jsx)("span",{className:"text-green-400 text-xs font-mono",children:v[_.usedAlgorithm]}),d&&(0,r.jsx)("span",{className:"text-green-400 text-xs font-mono",children:v[V.usedAlgorithm]}),!c&&!d&&(0,r.jsx)("span",{className:"text-white/40 text-xs",children:"—"})]})]},t)})})]})}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"rounded-xl border border-white/10 bg-white/[0.02] p-4 sm:p-5",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,r.jsx)("span",{className:"font-mono text-[10px] text-white/40 uppercase tracking-widest",children:"Gantt chart"}),(0,r.jsx)("span",{className:"px-2.5 py-1 rounded-md bg-white/10 font-display font-semibold text-white text-sm",children:v[_.usedAlgorithm]})]}),(0,r.jsx)(x,{data:_.ganttChart,maxTime:eh,height:160})]}),(0,r.jsxs)("div",{className:"rounded-xl border border-white/10 bg-white/[0.02] p-4 sm:p-5",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,r.jsx)("span",{className:"font-mono text-[10px] text-white/40 uppercase tracking-widest",children:"Gantt chart"}),(0,r.jsx)("span",{className:"px-2.5 py-1 rounded-md bg-white/10 font-display font-semibold text-white text-sm",children:v[V.usedAlgorithm]})]}),(0,r.jsx)(x,{data:V.ganttChart,maxTime:Math.max(...V.ganttChart.map(e=>e.end),1),height:160})]})]})]}):_?(0,r.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[(0,r.jsxs)("div",{className:"p-4 rounded-xl bg-white/[0.04] border border-white/10 flex flex-wrap items-center gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{K(!1),X(e=>Math.max(-1,e-1))},className:"p-2 rounded-lg border border-white/20 text-white/80 hover:bg-white/10 font-mono text-xs",title:"Previous step",children:"←"}),(0,r.jsx)("button",{type:"button",onClick:()=>K(e=>!e),disabled:!_.ganttChart.length,className:"p-2 rounded-lg border border-white/20 text-white/80 hover:bg-white/10 font-mono text-xs disabled:opacity-50",title:Z?"Pause":"Play",children:Z?"⏸":"▶"}),(0,r.jsx)("button",{type:"button",onClick:()=>{K(!1),X(e=>{var t,i;return e>=(null!==(i=null===(t=_.ganttChart)||void 0===t?void 0:t.length)&&void 0!==i?i:0)-1?e:e+1})},disabled:q>=(null!==(N=null===(i=_.ganttChart)||void 0===i?void 0:i.length)&&void 0!==N?N:0)-1,className:"p-2 rounded-lg border border-white/20 text-white/80 hover:bg-white/10 font-mono text-xs disabled:opacity-50",title:"Next step",children:"→"}),(0,r.jsx)("button",{type:"button",onClick:()=>{K(!1),X(-1)},className:"p-2 rounded-lg border border-white/20 text-white/80 hover:bg-white/10 font-mono text-xs",title:"Show all",children:"↺"})]}),(0,r.jsxs)("span",{className:"font-mono text-white/50 text-xs",children:["Step ",q<0?"all":"".concat(q+1," / ").concat(null!==(k=null===(d=_.ganttChart)||void 0===d?void 0:d.length)&&void 0!==k?k:0)]}),eb&&(0,r.jsxs)("span",{className:"text-white/60 text-xs",children:["Current: P",eb.pid," (t=",eb.start,"–",eb.end,")",eg.length>0&&" \xb7 Ready: P".concat(eg.join(", P"))]}),(0,r.jsxs)("div",{className:"ml-auto flex gap-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>_&&function(e){let t=new Blob([["PID,Arrival,Burst,Completion,Waiting,Turnaround",...e.processes.map(e=>[e.pid,e.arrivalTime,e.burstTime,e.completionTime,e.waitingTime,e.turnaroundTime].join(",")),"",["Metric,Value","Avg Waiting Time,".concat(e.metrics.avgWaitingTime),"Avg Turnaround Time,".concat(e.metrics.avgTurnaroundTime),"Avg Response Time,".concat(e.metrics.avgResponseTime),"Context Switches,".concat(e.metrics.contextSwitches),"Throughput,".concat(e.metrics.throughput)].join("\n")].join("\n")],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(t),r=document.createElement("a");r.href=i,r.download="cpu-schedule-".concat(Date.now(),".csv"),r.click(),URL.revokeObjectURL(i)}(_),className:"px-3 py-1.5 rounded-lg border border-white/20 text-white/80 font-mono text-xs hover:bg-white/10",children:"Export CSV"}),(0,r.jsx)("button",{type:"button",onClick:()=>ei.current&&b(ei.current),className:"px-3 py-1.5 rounded-lg border border-white/20 text-white/80 font-mono text-xs hover:bg-white/10",children:"Export PNG"})]})]}),ej&&(0,r.jsxs)(l.E.div,{className:"mb-6 p-4 rounded-xl border border-yellow-500/20 bg-yellow-500/5",initial:{opacity:0,y:-8},animate:{opacity:1,y:0},children:[(0,r.jsx)("p",{className:"font-display font-semibold text-yellow-400 text-sm mb-1",children:"Algorithm auto-switched"}),(0,r.jsx)("p",{className:"text-white/70 text-sm",children:_.reasonSwitched}),(0,r.jsxs)("p",{className:"font-mono text-xs text-white/40 mt-2",children:[v[_.chosenAlgorithm]," → ",v[_.usedAlgorithm]]})]}),(0,r.jsxs)("div",{className:"mb-6 px-4 py-3 rounded-xl bg-white/[0.03] border border-white/10 flex flex-wrap items-center gap-6",children:[(0,r.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,r.jsx)("span",{className:"font-mono text-[10px] text-white/50 uppercase tracking-wider",children:"Throughput"}),(0,r.jsxs)("span",{className:"font-display font-semibold text-white",children:[_.metrics.throughput.toFixed(2),(0,r.jsx)("span",{className:"font-mono text-white/50 text-sm font-normal ml-1",children:"processes/unit time"})]})]}),(0,r.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,r.jsx)("span",{className:"font-mono text-[10px] text-white/50 uppercase tracking-wider",children:"CPU utilization"}),(0,r.jsxs)("span",{className:"font-display font-semibold text-white",children:[ew,"%",(0,r.jsxs)("span",{className:"font-mono text-white/50 text-sm font-normal ml-1",children:["(",ev.toFixed(0)," / ",eh.toFixed(0)," time units)"]})]})]})]}),(0,r.jsx)("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 mb-8",children:[{label:"Avg Waiting",value:_.metrics.avgWaitingTime.toFixed(2),unit:"ms"},{label:"Avg Turnaround",value:_.metrics.avgTurnaroundTime.toFixed(2),unit:"ms"},{label:"Avg Response",value:_.metrics.avgResponseTime.toFixed(2),unit:"ms"},{label:"Throughput",value:_.metrics.throughput.toFixed(2),unit:"p/ms"},{label:"Context Switches",value:String(_.metrics.contextSwitches),unit:""}].map((e,t)=>(0,r.jsxs)(l.E.div,{className:"rounded-xl border border-white/10 bg-white/[0.02] p-4",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.05*t},children:[(0,r.jsx)("p",{className:"font-mono text-[10px] text-white/40 tracking-wider uppercase mb-1",children:e.label}),(0,r.jsxs)("p",{className:"text-xl font-display font-semibold text-white tracking-tight",children:[e.value,e.unit&&(0,r.jsx)("span",{className:"text-white/50 text-sm ml-1",children:e.unit})]})]},e.label))}),(0,r.jsxs)(l.E.section,{ref:ei,className:"rounded-xl border border-white/10 bg-white/[0.02] p-4 sm:p-5 mb-6",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.1},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-4 mb-4",children:[(0,r.jsx)("span",{className:"font-mono text-[10px] text-white/40 tracking-widest uppercase",children:"Gantt Chart"}),(0,r.jsxs)("span",{className:"flex items-center gap-2 font-mono text-[10px] text-white/40",children:[(0,r.jsx)("span",{className:"w-3 h-3 rounded-sm bg-amber-400/80","aria-hidden":!0}),"Context-switch boundaries"]})]}),(0,r.jsx)(x,{data:ep,maxTime:eu,height:180})]}),(0,r.jsxs)(l.E.section,{className:"rounded-xl border border-white/10 bg-white/[0.02] p-4 sm:p-5",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.15},children:[(0,r.jsx)("span",{className:"font-mono text-[10px] text-white/40 tracking-widest uppercase block mb-4",children:"Per-Process Metrics"}),(0,r.jsx)("div",{className:"h-56",children:(0,r.jsx)(m.Z,{theme:f,children:(0,r.jsx)(c.v,{xAxis:[{scaleType:"band",data:ef.map(e=>e.name),tickLabelStyle:{fill:"rgba(255,255,255,0.5)",fontSize:11}}],yAxis:[{tickLabelStyle:{fill:"rgba(255,255,255,0.5)",fontSize:11}}],series:[{data:ef.map(e=>e.waiting),label:"Waiting (ms)",color:"rgba(255,255,255,0.9)"},{data:ef.map(e=>e.turnaround),label:"Turnaround (ms)",color:"rgba(255,255,255,0.5)"}],height:220,margin:{top:20,right:20,bottom:30,left:40},slotProps:{legend:{labelStyle:{fill:"rgba(255,255,255,0.7)",fontSize:10},position:{vertical:"top",horizontal:"end"},padding:0}},sx:{".MuiChartsAxis-line":{stroke:"rgba(255,255,255,0.2)"},".MuiChartsAxis-tick":{stroke:"rgba(255,255,255,0.2)"}}})})})]}),(0,r.jsxs)(l.E.section,{className:"mt-6 rounded-xl border border-white/10 bg-white/[0.02] overflow-hidden",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.2},children:[(0,r.jsx)("div",{className:"px-4 py-3 border-b border-white/10",children:(0,r.jsx)("span",{className:"font-mono text-[10px] text-white/40 tracking-widest uppercase",children:"Process Details"})}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-white/10",children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left font-mono text-[10px] text-white/40 uppercase tracking-wider",children:"PID"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left font-mono text-[10px] text-white/40 uppercase tracking-wider",children:"Arrival"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left font-mono text-[10px] text-white/40 uppercase tracking-wider",children:"Burst"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left font-mono text-[10px] text-white/40 uppercase tracking-wider",children:"Completion"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left font-mono text-[10px] text-white/40 uppercase tracking-wider",children:"Waiting"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left font-mono text-[10px] text-white/40 uppercase tracking-wider",children:"Turnaround"})]})}),(0,r.jsx)("tbody",{children:_.processes.map(e=>(0,r.jsxs)("tr",{className:"border-b border-white/5 last:border-0",children:[(0,r.jsxs)("td",{className:"px-4 py-3 font-mono text-sm text-white/80",children:["P",e.pid]}),(0,r.jsx)("td",{className:"px-4 py-3 font-mono text-sm text-white/60",children:e.arrivalTime}),(0,r.jsx)("td",{className:"px-4 py-3 font-mono text-sm text-white/60",children:e.burstTime}),(0,r.jsx)("td",{className:"px-4 py-3 font-mono text-sm text-white/60",children:e.completionTime}),(0,r.jsx)("td",{className:"px-4 py-3 font-mono text-sm text-white/60",children:e.waitingTime}),(0,r.jsx)("td",{className:"px-4 py-3 font-mono text-sm text-white/60",children:e.turnaroundTime})]},e.pid))})]})})]})]}):(0,r.jsxs)(l.E.div,{className:"flex flex-col items-center justify-center h-[400px] text-center",initial:{opacity:0},animate:{opacity:1},children:[(0,r.jsx)("div",{className:"w-16 h-16 mb-6 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-white/30",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2"})})}),(0,r.jsx)("h3",{className:"font-display text-xl font-semibold text-white/70 mb-2",children:B?"Running simulation...":"Select an Algorithm"}),(0,r.jsx)("p",{className:"text-white/40 font-sans text-sm max-w-xs",children:B?"Please wait while we compute the results...":"Choose a scheduling algorithm from the dropdown to see the simulation results in real-time."})]})]})]})]})}}},function(e){e.O(0,[524,84,971,117,744],function(){return e(e.s=275)}),_N_E=e.O()}]);